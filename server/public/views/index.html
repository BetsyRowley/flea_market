<!DOCTYPE html>
<html ng-app = "myApp">
  <head>
    <meta charset="utf-8">
    <title>Flea Market</title>

    <link rel="stylesheet" href="vendors/bootstrap/css/bootstrap.css" />
    <link rel="stylesheet" href="styles/style.css" />

    <script type="text/javascript" src="vendors/angular/angular.min.js"></script>
    <script type="text/javascript" src="scripts/client.js"></script>
    <script type="text/javascript" src="scripts/factories/fleaMarketService.js"></script>
    <script type="text/javascript" src="scripts/controllers/bank.js"></script>
    <script type="text/javascript" src="scripts/controllers/buy.js"></script>
    <script type="text/javascript" src="scripts/controllers/sell.js"></script>

  </head>
  <body>
    <div class="jumbotron">
      <h1>Flea Market</h1>
      <div class = "account" ng-controller="BankController as account">
         Account balance: ${{account.accountBalance.amount}}
       </div>
    </div>

    <p>Instructions</p>

    <!-- Sell  -->
    <div ng-controller = "SellController as sell" >
      <div ng-repeat="item in sell.fruitObject.items">
        <div class="item well col-md-3">
          <img class="image" ng-src="{{item.image}}" />
          <p ng-model = "item.name">Name: {{item.name}}</p>
          <p ng-model = "item.quanity">Quantity: {{item.quantity}}</p>
          <p ng-model = "item.currentPrice">Current Price: {{item.currentPrice}}</p>
          <p ng-model = "item.averagePrice">Average Price: {{item.averagePrice}}</p>
          <p ng-model = "item.initialPrice">Initial Price: {{item.initialPrice}}</p>
          <button ng-click = "sell.sellItem(item)" type="button" name="sell" class = "btn btn-primary">Sell</button>
        </div>
      </div>
      <div ng-repeat="item in sell.collectableObject.items">
        <div class="item well col-md-3">
          <img class="image" ng-src="{{item.image}}" />
          <p ng-model = "item.name">Name: {{item.name}}</p>
          <p ng-model = "item.quanity">Quantity: {{item.quantity}}</p>
          <p ng-model = "item.currentPrice">Current Price: {{item.currentPrice}}</p>
          <p ng-model = "item.averagePrice">Average Price: {{item.averagePrice}}</p>
          <p ng-model = "item.initialPrice">Initial Price: {{item.initialPrice}}</p>
          <button ng-click = "sell.sellItem(item)" type="button" name="sell" class = "btn btn-primary">Sell</button>
        </div>
      </div>
      <div ng-repeat="item in sell.electronicObject.items">
        <div class="item well col-md-3">
          <img class="image" ng-src="{{item.image}}" />
          <p ng-model = "item.name">Name: {{item.name}}</p>
          <p ng-model = "item.quanity">Quantity: {{item.quantity}}</p>
          <p ng-model = "item.currentPrice">Current Price: {{item.currentPrice}}</p>
          <p ng-model = "item.averagePrice">Average Price: {{item.averagePrice}}</p>
          <p ng-model = "item.initialPrice">Initial Price: {{item.initialPrice}}</p>
          <button ng-click = "sell.sellItem(item)" type="button" name="sell" class = "btn btn-primary">Sell</button>
        </div>
      </div>
    </div>

    <div ng-controller="BuyController as ctrl">
      <form name="buyForm" ng-submit="ctrl.submit()">
        <input type="submit" value="Buy">
      </form>
      {{ctrl.currentPrice.price}}
    </div>

  </body>
</html>
